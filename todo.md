## 2024-10-13

- 重构：依旧是框架移动，但应当把瞳孔和框架焦点分开，绘制过程也应当分开。（或者也许瞳孔位置应当单独考虑）    

- 瞳孔的移动应当是瞬间的，即：    
    ```javascript
        pupilDeltaNow = putInRange(p2d(targetPosition), limitX1, limitY1)
    ```    
    其中 `limit1` 由框架所在位置和其本身的范围决定，将瞳孔位置限制在框架内最接近目标位置处。    
- 仅当目标焦点位置仅由瞳孔相对运动即可跟踪并保持一定时间时，或仅瞳孔相对运动并不能跟踪变化且瞳孔相对运动已到极限时，框架开始运动。框架运动分为线性的位移运动和非线性的归位运动，不同时发生。位移运动为瞳孔追踪提供条件，归位运动旨在使瞳孔的相对位置回到原点。

## 2024-10-14

- 追焦大体上实现了，没做位移和归位切换后速度的平滑过渡，不过无所谓了。
- demo 基本完成，有时间可以优化一下细节，以及增加原定的位移过程中通过控制控制点相对移动产生的眼睛方向性变化。

## 2024-10-15

- flutter 可以提上日程了。
